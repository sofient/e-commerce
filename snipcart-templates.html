<!-- Templates personnalisés Snipcart v3 -->

<!-- Champs personnalisés de facturation (Sexe et Commentaire) -->
<billing section="bottom">
    <fieldset class="snipcart-form__set">
        <div class="snipcart-form__field">
            <snipcart-label for="sexe" class="snipcart__font--tiny">
                Sexe
            </snipcart-label>
            <snipcart-select name="sexe" class="snipcart-form__select snipcart__font--secondary snipcart__font--bold">
                <option value="">-- Sélectionnez --</option>
                <option value="Homme">Homme</option>
                <option value="Femme">Femme</option>
            </snipcart-select>
        </div>
        <div class="snipcart-form__field">
            <snipcart-label for="commentaire" class="snipcart__font--tiny">
                Commentaire / Instructions spéciales
            </snipcart-label>
            <snipcart-textarea name="commentaire" class="snipcart-form__input" placeholder="Laissez un message ou une instruction spéciale pour votre commande..."></snipcart-textarea>
        </div>
    </fieldset>
</billing>

<!-- Template pour afficher les champs personnalisés des produits dans le panier -->
<item-line>
    <li class="snipcart-item-line snipcart-item-line--cart">
        <div class="snipcart-item-line__container">
            <div class="snipcart-item-line__product">
                <div class="snipcart-item-line__header">
                    <h2 class="snipcart-item-line__title snipcart__font--large snipcart__font--secondary snipcart__font--bold">
                        {{ item.name }}
                    </h2>
                    <div class="snipcart-item-line__actions">
                        <button type="button" class="snipcart-item-line__remove snipcart__button--icon" title="Supprimer l'article" aria-label="Supprimer l'article" @click="onRemove">
                            <icon name="trash" class="snipcart__icon--red" alt="Supprimer"></icon>
                        </button>
                    </div>
                </div>

                <div class="snipcart-item-line__body">
                    <div class="snipcart-item-line__image">
                        <img class="snipcart-item-line__image-img" :src="item.image" :alt="item.name">
                    </div>
                    <div class="snipcart-item-line__content">
                        <!-- Champs personnalisés du produit (Destination, Association) -->
                        <div class="snipcart-item-line__variants" v-if="item.customFields && item.customFields.length">
                            <div class="snipcart-item-custom-field" v-for="field in item.customFields" :key="field.name">
                                <label class="snipcart__font--tiny snipcart__font--secondary">{{ field.name }}</label>
                                <select
                                    v-if="field.options && field.options.length"
                                    class="snipcart-item-custom-field__select snipcart-form__select"
                                    :value="field.value"
                                    @change="updateCustomField(field.name, $event.target.value)">
                                    <option v-for="option in field.options" :key="option" :value="option">{{ option }}</option>
                                </select>
                                <input
                                    v-else
                                    type="text"
                                    class="snipcart-form__input"
                                    :value="field.value"
                                    @change="updateCustomField(field.name, $event.target.value)">
                            </div>
                        </div>

                        <div class="snipcart-item-line__info">
                            <div class="snipcart-item-line__quantity">
                                <item-quantity :item="item" @change="onQuantityChange"></item-quantity>
                            </div>
                            <div class="snipcart-item-line__price snipcart__font--secondary snipcart__font--bold">
                                {{ item.totalPrice | money }}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </li>
</item-line>
